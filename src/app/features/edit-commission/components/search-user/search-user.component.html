<div class="relative w-full">
  <div class="bg-stone-100 w-full flex h-11 items-center rounded-2xl px-4 gap-4">
    <div class="relative size-4 shrink-0">
      <img src="/assets/icons/search.svg" alt="Search" fill />
    </div>
    <input
      type="text"
      placeholder="Search user"
      class="bg-transparent grow h-full px-2 w-full"
      #search="ngModel"
      ngModel
      (keyup.enter)="searchUser($event)"
    />
  </div>

  @if (loading()) {
    <div class="p-4 text-center">
      <div class="loader"></div>
    </div>
  } @else {
    <ul class="list-none p-2">
      @for (user of users(); track user.id) {
        <li
          draggable="true"
          (dragstart)="userSelected.emit(user)"
          class="p-2 cursor-pointer hover:bg-gray-100 flex items-center gap-3 bg-white border-b border-dashed border-neutral-200"
        >
          <div>
            <div class="size-10 bg-primary rounded-lg text-white flex items-center justify-center uppercase">
              {{ user.first_name + ' ' + user.last_name | initials }}
            </div>
          </div>
          <div class="flex-grow truncate">
            <div class="font-semibold truncate">{{ user.first_name }} {{ user.last_name }}</div>
            <div class="truncate">{{ user.email }}</div>
          </div>
        </li>
      }
    </ul>
  }
</div>
